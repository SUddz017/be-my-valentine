<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Be My Valentine? ‚ù§Ô∏è</title>
  <style>
    html,body {
      height: 100%;
      margin: 0;
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      background-color: #ffeef0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      overflow: hidden; /* Prevents scrollbars when button moves */
      -webkit-tap-highlight-color: transparent; /* mobile */
    }

    h1 {
      color: #d63384;
      font-size: 2.5rem;
      padding: 0 20px;
      margin: 8px 0;
    }

    .gif-container img {
      width: 200px;
      max-width: 80%;
      border-radius: 15px;
      margin-bottom: 20px;
      display:block;
    }

    .buttons {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-top: 30px;
      width: 100%;
      position: relative;
      height: 100px; /* reserve area so absolute "No" button is within view */
    }

    button {
      padding: 15px 30px;
      font-size: 1.2rem;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      transition: transform 0.18s ease;
      touch-action: manipulation; /* Optimizes for mobile taps */
    }

    #yesBtn {
      background-color: #ff4d6d;
      color: white;
      z-index: 2;
      transform-origin: center;
    }

    #noBtn {
      background-color: #6c757d;
      color: white;
      position: absolute; /* needed for the jump effect */
      left: 65%;
      top: 50%;
      transform: translate(-50%, -50%);
      z-index: 3;
    }

    /* Small responsive tweaks */
    @media (max-width: 480px) {
      h1 { font-size: 1.6rem; }
      button { padding: 12px 20px; font-size: 1rem; }
      .gif-container img { width: 140px; }
    }
  </style>
</head>
<body>
  <div class="gif-container">
    <img src="https://media.giphy.com/media/3o6Zt6ML6BklcajjsA/giphy.gif" alt="Cute celebration gif">
  </div>

  <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>

  <div class="buttons" aria-hidden="false">
    <button id="yesBtn" aria-label="Yes ‚Äî accept" type="button">Yes!</button>
    <button id="noBtn" aria-label="No ‚Äî decline" type="button">No</button>
  </div>

  <script>
    (function(){
      const noBtn = document.getElementById('noBtn');
      const yesBtn = document.getElementById('yesBtn');
      let yesScale = 1.2;
      const growthStep = 0.1;
      const maxYesScale = 2.2;
      const padding = 16; // min distance from viewport edges

      // Ensure the "No" button starts in a visible spot (center-right)
      function placeInitialNo() {
        const startX = Math.min(window.innerWidth * 0.65, window.innerWidth - padding - noBtn.offsetWidth);
        const startY = Math.min(window.innerHeight * 0.5, window.innerHeight - padding - noBtn.offsetHeight);
        noBtn.style.left = startX + 'px';
        noBtn.style.top = startY + 'px';
        noBtn.style.transform = 'translate(0, 0)';
      }

      function moveButton() {
        // compute the button size to keep it fully on screen
        const btnW = noBtn.offsetWidth || 80;
        const btnH = noBtn.offsetHeight || 36;

        const maxX = Math.max(window.innerWidth - btnW - padding, padding);
        const maxY = Math.max(window.innerHeight - btnH - padding, padding);

        const x = padding + Math.random() * (maxX - padding);
        const y = padding + Math.random() * (maxY - padding);

        noBtn.style.left = x + 'px';
        noBtn.style.top = y + 'px';
        noBtn.style.transform = 'translate(0, 0)';

        yesScale = Math.min(maxYesScale, yesScale + growthStep);
        yesBtn.style.transform = `scale(${yesScale})`;
      }

      function celebrate() {
        document.body.innerHTML = `
          <div style="padding:20px; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; box-sizing:border-box;">
            <h1 style="color:#ff4d6d; margin:0 0 12px 0;">Yay! I knew you'd say yes! ü•∞</h1>
            <img src="https://media.giphy.com/media/26gssIytJvy1b1THO/giphy.gif" style="width:80%; max-width:300px; border-radius:15px;" alt="Celebration gif">
            <p style="font-size:1.4rem; color:#ff4d6d; margin-top:20px; font-weight:bold;">See you on the 14th! ‚ù§Ô∏è</p>
          </div>
        `;
      }

      // Attach events safely (avoid inline attributes)
      yesBtn.addEventListener('click', celebrate);
      // Move on hover or touchstart; for keyboard users, move when focused (prevents accidental activation)
      noBtn.addEventListener('mouseover', moveButton);
      noBtn.addEventListener('touchstart', function(e){ e.preventDefault(); moveButton(); }, {passive:false});
      noBtn.addEventListener('focus', moveButton);

      // On window resize recenter if button went out of bounds
      window.addEventListener('resize', function() {
        const btnRect = noBtn.getBoundingClientRect();
        if (btnRect.right > window.innerWidth || btnRect.bottom > window.innerHeight) {
          placeInitialNo();
        }
      });

      // initial placement (wait a tick to get offsets)
      window.addEventListener('load', function(){ setTimeout(placeInitialNo, 10); });
    })();
  </script>
</body>
</html>
